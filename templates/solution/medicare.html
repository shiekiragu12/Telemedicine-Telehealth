{% extends 'base.html' %}
{% load static %}

{% block title %} IT Medicare  {% endblock title %}

{% block content %}

<!-- Start Page Title Area -->
<div class="page-title-area" style="background-image: url(/static/assets/img/page-title/bg.webp);">
  <div class="d-table" style="background: rgba(0, 0, 0, 0.7);">
    <div class="d-table-cell">
      <div class="container">
        <div class="page-title-content">
          <h2>IT Medicare Solution</h2>
          <button type="button" class="default-btn" data-bs-toggle="modal" data-bs-target="#apply-modal">
            Schedule a call with us
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Page Title Area -->

<!-- Service details -->
<div class="service-details ptb-100">
  <div class="container">
    <div class="row">
      <div class="col-lg-5">
        <img src="{% static 'assets/img/cancer.jpg'%}" alt="image">
      </div>

      <div class="service-details-content col-lg-7">
        <p>
          The healthcare industry is constantly evolving, and technology is playing a major role in driving these
          changes.
        </p>
        <p>
          By offering IT Medicare solutions, we are helping medical facilities and startups stay ahead of the
          curve and provide the highest quality care to their patients.
        </p>
        <p>
          By leveraging technology, these organizations
          can streamline processes, improve patient outcomes, and remain competitive in a rapidly changing industry.
        </p>

      </div>

    </div>

    <div class="service-details-content">

      <div class="service-details-info">
        <div class="row w-100">
          <div class="col-md-8">
            <div class="single-info-ox">
              <h4 class="text-center">
                Don't miss out on the opportunity to make a positive impact and drive change in the healthcare industry
              </h4>
              <div class="d-flex justify-content-center">
                <span>ResQ247, Your best virtual care platform</span>
              </div>
            </div>
          </div>
          <div class="col-md-4 py-3">
            <div class="single-info-bx d-flex justify-content-center">
              <button class="default-btn-two" data-bs-toggle="modal" data-bs-target="#apply-modal">
                Schedule a call Now!
                <span></span>
              </button>
            </div>
          </div>
        </div>
      </div>


      <div class="modal fade" id="apply-modal" tabindex="-1" aria-labelledby="apply-modal-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="apply-modal-title">Schedule a call with us</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form class="signup-form" style="box-shadow: none;max-width:100% !important;" method="post"
                id="appointment-form" enctype="multipart/form-data" action="schedule">
                {% csrf_token %}
                <div class="row">
                  <div class="col-lg-6 form-group mb-3">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                  </div>
                  <div class="col-lg-6 form-group mb-3">
                    <label for="name">Email Address</label>
                    <input type="email" id="name" name="email" class="form-control" required>
                  </div>

                  <div class="col-lg-6 form-group mb-3">
                    <label for="name">Phone Number</label>
                    <input type="number" id="phoneF" name="phone" class="form-control" required>
                  </div>
                  <div class="col-lg-6 form-group mb-3">
                    <label for="name">Schedule Date</label>
                    <input type="date" id="date" name="date" class="form-control" required>
                  </div>

                  <div class="col-lg-6 form-group mb-3">
                    <label for="name">Schedule time</label>
                    <input type="time" id="time-input" name="time" class="form-control" required>
                  </div>


                  <div class="col-lg-12 form-group mb-3">
                    <label for="message">Which Kind of services do you want</label>
                    <textarea id="message" name="message" class="form-control" required></textarea>
                  </div>

                </div>


              </form>
            </div>
            <div class="modal-footer">
              <button type="submit" form="appointment-form" class="btn btn-primary">SUBMIT</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<!-- End Service details -->
<script>
  // Get the modal
  var modal = document.getElementById("myModal");

  // Get the button that opens the modal
  var btn = document.getElementById("myButton");
  var btn2 = document.getElementById("myButton2");
  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  // When the user clicks the button, open the modal
  btn.onclick = function () {
    modal.style.display = "block";
  }
  btn2.onclick = function () {
    modal.style.display = "block";
  }
  // When the user clicks on <span> (x), close the modal
  span.onclick = function () {
    modal.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

</script>
<script>
  const timeInput = document.getElementById('time-input');

  timeInput.addEventListener('input', function () {
    const selectedTime = this.value;
    const selectedHour = parseInt(selectedTime.split(':')[0]);

    // Check if selected time is before 8 am or after 5 pm
    if (selectedHour < 8 || selectedHour >= 12) {
      alert('Please select a time strictly between 8 am and 12 pm.');
      this.value = '';
    }
  });


  const dateInput = document.getElementById('date');
  const today = new Date();

  dateInput.addEventListener('input', function () {
    const selectedDate = new Date(this.value);

    if (selectedDate > today) {
      alert('Date cannot be in the past');
      this.value = '';
    } else if (selectedDate.getDay() === 0 || selectedDate.getDay() === 6) {
      alert('Date cannot be on a weekend');
      this.value = '';
    }
  });

</script>
<script>
  const phoneInputF = document.getElementById('phoneF');

  phoneInputF.addEventListener('input', function () {
    const inputValue = this.value;

    // Remove all non-digit and non-plus characters from input
    const strippedValue = inputValue.replace(/[^0-9+]/g, '');

    // If stripped value is longer than 4 characters, truncate it to the first 4 characters
    const truncatedValue = strippedValue.substring(0, 10);

    // If stripped value contains more than one plus sign, remove all but the first one
    const finalValue = truncatedValue.replace(/\+/g, (match, offset) => offset ? '' : match);

    // Update input value to final value
    if (finalValue !== inputValue) {
      this.value = finalValue;
    }
  });

</script>
{% endblock %}